<%#
  AI å›žæ‡‰åé¥‹æŒ‰éˆ•

  ä½¿ç”¨æ–¹å¼:
    <%= render 'ai/feedbacks/feedback_buttons',
        conversation_id: @conversation&.id,
        query: @query,
        response_summary: @explanation %>
%>

<% conversation_id ||= nil %>
<% query ||= "" %>
<% response_summary ||= "" %>
<% product_id ||= nil %>

<div id="feedback-<%= conversation_id || 'new' %>" class="flex items-center gap-3 mt-4">
  <span class="text-sm text-neutral-500">é€™å€‹å›žç­”æœ‰å¹«åŠ©å—Žï¼Ÿ</span>

  <!-- ðŸ‘ è®š -->
  <%= form_with url: ai_feedbacks_path, method: :post, data: { turbo_frame: "_top" }, class: "inline" do |f| %>
    <%= f.hidden_field :feedback_type, value: "thumbs_up" %>
    <%= f.hidden_field :query, value: query %>
    <%= f.hidden_field :response_summary, value: response_summary.to_s.truncate(500) %>
    <%= f.hidden_field :ai_conversation_id, value: conversation_id %>
    <%= f.hidden_field :product_id, value: product_id %>

    <%= f.submit "ðŸ‘",
        class: "px-3 py-1.5 text-lg bg-neutral-100 hover:bg-green-100 hover:text-green-600 rounded-full transition-colors cursor-pointer" %>
  <% end %>

  <!-- ðŸ‘Ž è¸© -->
  <%= form_with url: ai_feedbacks_path, method: :post, data: { turbo_frame: "_top" }, class: "inline" do |f| %>
    <%= f.hidden_field :feedback_type, value: "thumbs_down" %>
    <%= f.hidden_field :query, value: query %>
    <%= f.hidden_field :response_summary, value: response_summary.to_s.truncate(500) %>
    <%= f.hidden_field :ai_conversation_id, value: conversation_id %>
    <%= f.hidden_field :product_id, value: product_id %>

    <%= f.submit "ðŸ‘Ž",
        class: "px-3 py-1.5 text-lg bg-neutral-100 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors cursor-pointer" %>
  <% end %>
</div>
