# Digital Gateway 2.0 - æ™ºæ…§å•†åŸé¡˜æ™¯

## æ¦‚è¿°

Digital Gateway 2.0 å°‡å¾å‚³çµ±é›»å•†é€²åŒ–ç‚º**æ™ºæ…§æ±ºç­–è¼”åŠ©å¹³å°**ï¼Œæ•´åˆå¤šç›®æ¨™æœ€ä½³åŒ–æ¼”ç®—æ³•ã€AI åˆ†æèƒ½åŠ›ã€ä»¥åŠè¦–è¦ºåŒ–å‘ˆç¾ï¼Œè®“æ¶ˆè²»è€…ä¸å†é¢å°ã€Œé¸æ“‡å›°é›£ã€ï¼Œè®“è³£å®¶ç²å¾—æ•¸æ“šé©…å‹•çš„æ´å¯Ÿã€‚

### æ ¸å¿ƒç†å¿µ

```
å‚³çµ±é›»å•†ï¼šå•†å“åˆ—è¡¨ â†’ æ’åº/ç¯©é¸ â†’ è³¼è²·
æ™ºæ…§å•†åŸï¼šéœ€æ±‚åˆ†æ â†’ å¤šç¶­åº¦æœ€ä½³åŒ– â†’ Pareto æ¨è–¦ â†’ æ±ºç­–è¼”åŠ© â†’ è³¼è²·
```

---

## æ¶æ§‹è¨­è¨ˆ

### ä¸‰å±¤æ™ºæ…§æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å±•ç¤ºå±¤ (Presentation)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Pareto é›·é”åœ–â”‚  â”‚ æ¯”è¼ƒçŸ©é™£    â”‚  â”‚ æ¨è–¦å¡ç‰‡    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ™ºæ…§å±¤ (Intelligence)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Jellyfish   â”‚  â”‚ Gemini AI   â”‚  â”‚ ç”¨æˆ¶åå¥½    â”‚         â”‚
â”‚  â”‚ å¤šç›®æ¨™æœ€ä½³åŒ– â”‚  â”‚ å…§å®¹åˆ†æ    â”‚  â”‚ å­¸ç¿’å¼•æ“    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    è³‡æ–™å±¤ (Data)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ å•†å“å±¬æ€§    â”‚  â”‚ ç”¨æˆ¶è¡Œç‚º    â”‚  â”‚ å¸‚å ´æ•¸æ“š    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„

### 1. Jellyfish å¤šç›®æ¨™æœ€ä½³åŒ–å¼•æ“

å€Ÿé¡ Jellyfish_Pro3.0 çš„è¨­è¨ˆç†å¿µï¼Œå¯¦ç¾å•†å“æ¨è–¦çš„å¤šç›®æ¨™æœ€ä½³åŒ–ã€‚

#### æœ€ä½³åŒ–ç›®æ¨™ï¼ˆå¯é…ç½®ï¼‰

| ç›®æ¨™ | æè¿° | æ¬Šé‡ç¯„åœ |
|------|------|----------|
| åƒ¹æ ¼æ•ˆç›Š | åƒ¹æ ¼/åƒ¹å€¼æ¯” | 0.0 - 1.0 |
| å“è³ªè©•åˆ† | è©•åƒ¹/é€€è²¨ç‡ | 0.0 - 1.0 |
| äº¤ä»˜é€Ÿåº¦ | é è¨ˆåˆ°è²¨æ™‚é–“ | 0.0 - 1.0 |
| è³£å®¶ä¿¡è­½ | ç¶œåˆä¿¡è­½åˆ†æ•¸ | 0.0 - 1.0 |
| ç›¸é—œæ€§ | èˆ‡éœ€æ±‚åŒ¹é…åº¦ | 0.0 - 1.0 |

#### ç‹€æ…‹ä¼°è¨ˆ (ESE - Evolutionary State Estimation)

```ruby
# app/services/optimization/state_estimator.rb
class Optimization::StateEstimator
  STATES = {
    exploration: "æ¢ç´¢éšæ®µ - æ“´å¤§æœç´¢ç¯„åœ",
    exploitation: "é–‹ç™¼éšæ®µ - æ·±å…¥å„ªè³ªå€åŸŸ",
    convergence: "æ”¶æ–‚éšæ®µ - é–å®šæœ€ä½³è§£",
    stagnation: "åœæ»¯éšæ®µ - éœ€è¦çªç ´"
  }.freeze

  def estimate(search_history)
    # åŸºæ–¼ç”¨æˆ¶æœç´¢æ­·å²åˆ¤æ–·ç•¶å‰ç‹€æ…‹
    # è¿”å›å»ºè­°çš„æ¨è–¦ç­–ç•¥
  end
end
```

#### Pareto å‰æ²¿è¨ˆç®—

```ruby
# app/services/optimization/pareto_front.rb
class Optimization::ParetoFront
  def initialize(products, objectives)
    @products = products
    @objectives = objectives
  end

  def compute
    # è¨ˆç®—éæ”¯é…è§£é›†åˆ
    # è¿”å› Pareto æœ€å„ªå•†å“é›†
  end

  def dominated?(product_a, product_b)
    # åˆ¤æ–· A æ˜¯å¦è¢« B æ”¯é…
    @objectives.all? { |obj| product_b.score(obj) >= product_a.score(obj) } &&
    @objectives.any? { |obj| product_b.score(obj) > product_a.score(obj) }
  end
end
```

### 2. Gemini AI æ™ºæ…§åˆ†æ

æ•´åˆ Google Gemini API æä¾›å¤šç¨® AI è¼”åŠ©åŠŸèƒ½ã€‚

#### åŠŸèƒ½çŸ©é™£

| åŠŸèƒ½ | æè¿° | è§¸ç™¼æ™‚æ©Ÿ |
|------|------|----------|
| å…§å®¹é©—è­‰ | é©—è­‰å•†å“æè¿°çœŸå¯¦æ€§ | å•†å“ä¸Šæ¶ |
| éœ€æ±‚è§£æ | è‡ªç„¶èªè¨€è½‰æœç´¢æ¢ä»¶ | ç”¨æˆ¶æœç´¢ |
| è©•åƒ¹æ‘˜è¦ | å½™æ•´è©•åƒ¹é‡é» | å•†å“é é¢ |
| æ¯”è¼ƒåˆ†æ | å¤šå•†å“å„ªåŠ£æ¯”è¼ƒ | æ¯”è¼ƒé é¢ |
| è¶¨å‹¢é æ¸¬ | åƒ¹æ ¼/éœ€æ±‚è¶¨å‹¢ | è³£å®¶å¾Œå° |

#### å¯¦ç¾æ¶æ§‹

```ruby
# app/services/ai/gemini_client.rb
class AI::GeminiClient
  include HTTParty
  base_uri 'https://generativelanguage.googleapis.com/v1beta'

  def initialize
    @api_key = Rails.application.credentials.dig(:gemini, :api_key)
  end

  def analyze_product(product)
    prompt = build_product_prompt(product)
    generate_content(prompt)
  end

  def parse_user_intent(query)
    prompt = build_intent_prompt(query)
    generate_content(prompt)
  end

  private

  def generate_content(prompt)
    response = self.class.post(
      "/models/gemini-pro:generateContent",
      query: { key: @api_key },
      body: { contents: [{ parts: [{ text: prompt }] }] }.to_json,
      headers: { 'Content-Type' => 'application/json' }
    )
    parse_response(response)
  end
end
```

### 3. Pareto é›·é”åœ–è¦–è¦ºåŒ–

ä½¿ç”¨ Chart.js å¯¦ç¾å¤šç¶­åº¦é›·é”åœ–ï¼Œç›´è§€å‘ˆç¾å•†å“åœ¨å„ç›®æ¨™ä¸Šçš„è¡¨ç¾ã€‚

#### è¦–è¦ºåŒ–å…ƒä»¶

```javascript
// app/javascript/controllers/pareto_radar_controller.js
import { Controller } from "@hotwired/stimulus"
import Chart from "chart.js/auto"

export default class extends Controller {
  static values = {
    products: Array,
    objectives: Array
  }

  connect() {
    this.renderChart()
  }

  renderChart() {
    const ctx = this.element.querySelector('canvas')

    new Chart(ctx, {
      type: 'radar',
      data: {
        labels: this.objectivesValue.map(o => o.label),
        datasets: this.productsValue.map((product, index) => ({
          label: product.title,
          data: this.objectivesValue.map(o => product.scores[o.key]),
          borderColor: this.getColor(index),
          backgroundColor: this.getColor(index, 0.2),
          pointBackgroundColor: this.getColor(index)
        }))
      },
      options: {
        scales: {
          r: {
            beginAtZero: true,
            max: 100,
            ticks: { stepSize: 20 }
          }
        },
        plugins: {
          legend: { position: 'bottom' }
        }
      }
    })
  }

  getColor(index, alpha = 1) {
    const colors = [
      `rgba(59, 130, 246, ${alpha})`,   // blue
      `rgba(239, 68, 68, ${alpha})`,    // red
      `rgba(34, 197, 94, ${alpha})`,    // green
      `rgba(168, 85, 247, ${alpha})`,   // purple
      `rgba(249, 115, 22, ${alpha})`    // orange
    ]
    return colors[index % colors.length]
  }
}
```

#### è¦–åœ–æ¨¡æ¿

```erb
<%# app/views/products/_pareto_radar.html.erb %>
<div data-controller="pareto-radar"
     data-pareto-radar-products-value="<%= products.to_json %>"
     data-pareto-radar-objectives-value="<%= objectives.to_json %>"
     class="bg-white rounded-2xl p-6 shadow-sm">
  <h3 class="text-lg font-semibold mb-4">å¤šç¶­åº¦æ¯”è¼ƒ</h3>
  <canvas class="max-h-80"></canvas>
  <div class="mt-4 text-sm text-neutral-500">
    <p>* é›·é”åœ–å±•ç¤ºå„å•†å“åœ¨ä¸åŒç›®æ¨™ä¸Šçš„è¡¨ç¾</p>
    <p>* é¢ç©è¶Šå¤§ï¼Œç¶œåˆè¡¨ç¾è¶Šå¥½</p>
  </div>
</div>
```

---

## è³‡æ–™æ¨¡å‹æ“´å±•

### æ–°å¢æ¨¡å‹

```ruby
# ç”¨æˆ¶åå¥½
class UserPreference < ApplicationRecord
  belongs_to :user

  # å­˜å„²ç”¨æˆ¶å°å„ç›®æ¨™çš„æ¬Šé‡åå¥½
  # objectives_weights: { price: 0.3, quality: 0.4, speed: 0.2, reputation: 0.1 }
  store :objectives_weights, accessors: [:price, :quality, :speed, :reputation], coder: JSON
end

# å•†å“è©•åˆ†å¿«ç…§
class ProductScore < ApplicationRecord
  belongs_to :product

  # å„ç¶­åº¦è©•åˆ† (0-100)
  # price_score: åƒ¹æ ¼ç«¶çˆ­åŠ›
  # quality_score: å“è³ªè©•åˆ†
  # speed_score: äº¤ä»˜é€Ÿåº¦
  # reputation_score: è³£å®¶ä¿¡è­½
  # relevance_score: æœç´¢ç›¸é—œæ€§
end

# æœç´¢æ­·å²ï¼ˆç”¨æ–¼ ESE ç‹€æ…‹ä¼°è¨ˆï¼‰
class SearchHistory < ApplicationRecord
  belongs_to :user

  # query: æœç´¢é—œéµå­—
  # filters: ç¯©é¸æ¢ä»¶
  # results_count: çµæœæ•¸é‡
  # clicked_product_ids: é»æ“Šçš„å•†å“
  # purchased_product_id: æœ€çµ‚è³¼è²·çš„å•†å“
end

# AI åˆ†æçµæœå¿«å–
class AIAnalysis < ApplicationRecord
  belongs_to :analyzable, polymorphic: true

  # analysis_type: content_validation, review_summary, comparison
  # result: AI åˆ†æçµæœ
  # confidence: å¯ä¿¡åº¦
  # expires_at: éæœŸæ™‚é–“
end
```

### Migration

```ruby
# db/migrate/xxx_create_smart_commerce_tables.rb
class CreateSmartCommerceTables < ActiveRecord::Migration[8.1]
  def change
    create_table :user_preferences do |t|
      t.references :user, null: false, foreign_key: true
      t.jsonb :objectives_weights, default: {}
      t.timestamps
    end

    create_table :product_scores do |t|
      t.references :product, null: false, foreign_key: true
      t.integer :price_score, default: 50
      t.integer :quality_score, default: 50
      t.integer :speed_score, default: 50
      t.integer :reputation_score, default: 50
      t.integer :relevance_score, default: 50
      t.datetime :calculated_at
      t.timestamps
    end

    create_table :search_histories do |t|
      t.references :user, null: false, foreign_key: true
      t.string :query
      t.jsonb :filters, default: {}
      t.integer :results_count
      t.jsonb :clicked_product_ids, default: []
      t.bigint :purchased_product_id
      t.timestamps
    end

    create_table :ai_analyses do |t|
      t.references :analyzable, polymorphic: true, null: false
      t.string :analysis_type, null: false
      t.jsonb :result, default: {}
      t.decimal :confidence, precision: 3, scale: 2
      t.datetime :expires_at
      t.timestamps
    end

    add_index :ai_analyses, [:analyzable_type, :analyzable_id, :analysis_type],
              unique: true, name: 'index_ai_analyses_uniqueness'
  end
end
```

---

## API ç«¯é»è¨­è¨ˆ

### æ™ºæ…§æ¨è–¦ API

```ruby
# config/routes.rb
namespace :api do
  namespace :v1 do
    resources :smart_recommendations, only: [:index] do
      collection do
        post :pareto
        post :personalized
        get :trending
      end
    end

    resources :ai_analysis, only: [:show, :create] do
      collection do
        post :compare
        post :summarize_reviews
      end
    end
  end
end
```

### Controller å¯¦ç¾

```ruby
# app/controllers/api/v1/smart_recommendations_controller.rb
class Api::V1::SmartRecommendationsController < Api::V1::BaseController
  def pareto
    objectives = params[:objectives] || default_objectives
    weights = current_user&.preference&.objectives_weights || default_weights

    products = Product.active.includes(:product_score, :seller_profile)
    pareto_front = Optimization::ParetoFront.new(products, objectives)
    optimal_products = pareto_front.compute

    render json: {
      products: ProductSerializer.new(optimal_products).serializable_hash,
      pareto_size: optimal_products.size,
      objectives: objectives
    }
  end

  def personalized
    state_estimator = Optimization::StateEstimator.new(current_user)
    current_state = state_estimator.estimate

    recommendations = case current_state
    when :exploration
      diverse_recommendations
    when :exploitation
      focused_recommendations
    when :convergence
      final_recommendations
    else
      balanced_recommendations
    end

    render json: {
      state: current_state,
      recommendations: ProductSerializer.new(recommendations).serializable_hash,
      suggestion: state_estimator.suggestion
    }
  end
end
```

---

## ç”¨æˆ¶ä»‹é¢è¨­è¨ˆ

### æ™ºæ…§æœç´¢é é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” "æˆ‘æƒ³è¦ä¸€å€‹æ€§åƒ¹æ¯”é«˜çš„ç¨‹å¼è¨­è¨ˆèª²ç¨‹"                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ AI è§£æï¼šç¨‹å¼è¨­è¨ˆ + é«˜æ€§åƒ¹æ¯” + èª²ç¨‹é¡å‹                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ç›®æ¨™æ¬Šé‡èª¿æ•´      â”‚  â”‚        Pareto é›·é”åœ–             â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚                                  â”‚ â”‚
â”‚  â”‚ åƒ¹æ ¼ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  â”‚  â”‚           å“è³ª                   â”‚ â”‚
â”‚  â”‚ å“è³ª â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  â”‚  â”‚            â–²                    â”‚ â”‚
â”‚  â”‚ é€Ÿåº¦ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚           /â”‚\                   â”‚ â”‚
â”‚  â”‚ ä¿¡è­½ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  â”‚  â”‚    é€Ÿåº¦ â—€â”€â”€â”¼â”€â”€â–¶ åƒ¹æ ¼            â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚           \â”‚/                   â”‚ â”‚
â”‚  â”‚ [é‡æ–°è¨ˆç®—]       â”‚  â”‚            â–¼                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚           ä¿¡è­½                   â”‚ â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Pareto æœ€å„ªè§£ï¼ˆå…± 5 å€‹ï¼‰                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ èª²ç¨‹ A  â”‚ â”‚ èª²ç¨‹ B  â”‚ â”‚ èª²ç¨‹ C  â”‚ â”‚ èª²ç¨‹ D  â”‚ â”‚ èª²ç¨‹ E  â”‚â”‚
â”‚  â”‚ â­ æœ€é«˜CPâ”‚ â”‚ â­ æœ€é«˜è³ªâ”‚ â”‚ â­ æœ€å¿«é€Ÿâ”‚ â”‚ â­ å‡è¡¡  â”‚ â”‚ â­ ä¿¡è­½ä½³â”‚â”‚
â”‚  â”‚ NT$990  â”‚ â”‚ NT$2,490â”‚ â”‚ NT$1,290â”‚ â”‚ NT$1,590â”‚ â”‚ NT$1,890â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¡ AI å»ºè­°ï¼šæ ¹æ“šæ‚¨çš„æœç´¢æ­·å²ï¼Œèª²ç¨‹ A æœ€ç¬¦åˆæ‚¨çš„åå¥½          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å•†å“æ¯”è¼ƒé é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š å•†å“æ¯”è¼ƒ - AI è¼”åŠ©åˆ†æ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                    é›·é”åœ–æ¯”è¼ƒ                            â”‚â”‚
â”‚  â”‚                                                         â”‚â”‚
â”‚  â”‚         [Canvas - 3 å•†å“é›·é”åœ–ç–ŠåŠ ]                      â”‚â”‚
â”‚  â”‚                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚    èª²ç¨‹ A     â”‚    èª²ç¨‹ B     â”‚    èª²ç¨‹ C     â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ åƒ¹æ ¼: 90åˆ†    â”‚ åƒ¹æ ¼: 60åˆ†    â”‚ åƒ¹æ ¼: 75åˆ†    â”‚         â”‚
â”‚  â”‚ å“è³ª: 70åˆ†    â”‚ å“è³ª: 95åˆ†    â”‚ å“è³ª: 80åˆ†    â”‚         â”‚
â”‚  â”‚ é€Ÿåº¦: 80åˆ†    â”‚ é€Ÿåº¦: 70åˆ†    â”‚ é€Ÿåº¦: 85åˆ†    â”‚         â”‚
â”‚  â”‚ ä¿¡è­½: 75åˆ†    â”‚ ä¿¡è­½: 90åˆ†    â”‚ ä¿¡è­½: 85åˆ†    â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ [åŠ å…¥è³¼ç‰©è»Š]  â”‚ [åŠ å…¥è³¼ç‰©è»Š]  â”‚ [åŠ å…¥è³¼ç‰©è»Š]  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                             â”‚
â”‚  ğŸ¤– AI åˆ†ææ‘˜è¦ï¼š                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â€¢ èª²ç¨‹ A åœ¨åƒ¹æ ¼ä¸Šå…·æœ‰æ˜é¡¯å„ªå‹¢ï¼Œé©åˆé ç®—æœ‰é™çš„å­¸ç¿’è€…      â”‚â”‚
â”‚  â”‚ â€¢ èª²ç¨‹ B çš„å…§å®¹å“è³ªæœ€é«˜ï¼Œä½†åƒ¹æ ¼ä¹Ÿæœ€é«˜                    â”‚â”‚
â”‚  â”‚ â€¢ èª²ç¨‹ C æ˜¯æœ€å‡è¡¡çš„é¸æ“‡ï¼Œå„é …æŒ‡æ¨™éƒ½åœ¨ä¸­ä¸Šæ°´æº–            â”‚â”‚
â”‚  â”‚                                                         â”‚â”‚
â”‚  â”‚ ğŸ“Œ å»ºè­°ï¼šå¦‚æœæ‚¨é‡è¦–é•·æœŸå­¸ç¿’åƒ¹å€¼ï¼Œæ¨è–¦èª²ç¨‹ B              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¯¦ç¾è·¯ç·šåœ–

### Phase 1: åŸºç¤å»ºè¨­ (v2.1)

- [ ] å»ºç«‹ ProductScore æ¨¡å‹èˆ‡è¨ˆç®—é‚è¼¯
- [ ] å¯¦ç¾ Pareto å‰æ²¿è¨ˆç®—æœå‹™
- [ ] æ•´åˆ Chart.js é›·é”åœ–å…ƒä»¶
- [ ] å»ºç«‹å•†å“æ¯”è¼ƒé é¢

### Phase 2: AI æ•´åˆ (v2.2)

- [ ] æ•´åˆ Gemini API
- [ ] å¯¦ç¾å…§å®¹é©—è­‰åŠŸèƒ½
- [ ] å¯¦ç¾è©•åƒ¹æ‘˜è¦åŠŸèƒ½
- [ ] å»ºç«‹ AI åˆ†æå¿«å–æ©Ÿåˆ¶

### Phase 3: æ™ºæ…§æ¨è–¦ (v2.3)

- [ ] å¯¦ç¾ ESE ç‹€æ…‹ä¼°è¨ˆ
- [ ] å»ºç«‹ç”¨æˆ¶åå¥½å­¸ç¿’æ©Ÿåˆ¶
- [ ] å¯¦ç¾å€‹äººåŒ–æ¨è–¦ API
- [ ] å»ºç«‹æœç´¢æ­·å²è¿½è¹¤

### Phase 4: è³£å®¶å·¥å…· (v2.4)

- [ ] è³£å®¶æ•¸æ“šåˆ†æå„€è¡¨æ¿
- [ ] å¸‚å ´è¶¨å‹¢é æ¸¬
- [ ] ç«¶å“åˆ†æå·¥å…·
- [ ] å®šåƒ¹å»ºè­°ç³»çµ±

---

## MVT é©—è­‰æ¸…å–®

å€Ÿé¡ CSF (Claude Skill Forge) çš„ MVT å››ç¶­é©—è­‰æ¨¡å¼ï¼š

### 1. é‚è¼¯é©—è­‰ (Logic)

- [ ] Pareto å‰æ²¿è¨ˆç®—æ­£ç¢ºæ€§
- [ ] æ¬Šé‡èª¿æ•´å½±éŸ¿çµæœçš„ä¸€è‡´æ€§
- [ ] ESE ç‹€æ…‹ä¼°è¨ˆçš„åˆç†æ€§

### 2. æ ¼å¼é©—è­‰ (Format)

- [ ] API éŸ¿æ‡‰çµæ§‹ç¬¦åˆ JSON:API è¦ç¯„
- [ ] é›·é”åœ–æ•¸æ“šæ ¼å¼æ­£ç¢º
- [ ] éŒ¯èª¤è¨Šæ¯æ ¼å¼çµ±ä¸€

### 3. æ¬Šé™é©—è­‰ (Permission)

- [ ] ç”¨æˆ¶åªèƒ½ä¿®æ”¹è‡ªå·±çš„åå¥½
- [ ] è³£å®¶åªèƒ½æŸ¥çœ‹è‡ªå·±çš„æ•¸æ“š
- [ ] AI åˆ†æçµæœçš„è¨ªå•æ§åˆ¶

### 4. æ•ˆèƒ½é©—è­‰ (Performance)

- [ ] Pareto è¨ˆç®—åœ¨ 100ms å…§å®Œæˆ (< 100 å•†å“)
- [ ] AI åˆ†æå¿«å–å‘½ä¸­ç‡ > 80%
- [ ] é›·é”åœ–æ¸²æŸ“ < 50ms

---

## æŠ€è¡“é¸å‹

| é ˜åŸŸ | é¸æ“‡ | ç†ç”± |
|------|------|------|
| å‰ç«¯åœ–è¡¨ | Chart.js | è¼•é‡ã€éŸ¿æ‡‰å¼ã€é›·é”åœ–æ”¯æ´å®Œå–„ |
| AI API | Gemini Pro | æˆæœ¬æ•ˆç›Šé«˜ã€ä¸­æ–‡æ”¯æ´å¥½ |
| èƒŒæ™¯ä»»å‹™ | Sidekiq (æ“´å±•æ™‚) | å¯é ã€ç›£æ§å®Œå–„ |
| å¿«å– | Redis (æ“´å±•æ™‚) | AI çµæœå¿«å–ã€Session å­˜å„² |
| æœç´¢ | PostgreSQL Full-text | MVP è¶³å¤ ã€å…é¡å¤–æœå‹™ |

---

## æˆæœ¬ä¼°ç®— (MVP)

### Gemini API æˆæœ¬

| æ“ä½œ | é ä¼°æ¬¡æ•¸/æœˆ | å–®åƒ¹ | æœˆæˆæœ¬ |
|------|-------------|------|--------|
| å…§å®¹é©—è­‰ | 100 å•†å“ | $0.001/1K tokens | ~$1 |
| è©•åƒ¹æ‘˜è¦ | 500 æ¬¡ | $0.001/1K tokens | ~$2 |
| æ¯”è¼ƒåˆ†æ | 200 æ¬¡ | $0.001/1K tokens | ~$1 |
| **ç¸½è¨ˆ** | - | - | **~$4/æœˆ** |

### åŸºç¤è¨­æ–½

- Zeabur: ç¾æœ‰æ–¹æ¡ˆè¶³å¤ 
- PostgreSQL: ç¾æœ‰æ–¹æ¡ˆè¶³å¤ 
- ç„¡éœ€é¡å¤– Redis/Sidekiq (MVP éšæ®µ)

---

## çµèª

Digital Gateway 2.0 çš„é¡˜æ™¯æ˜¯å°‡ã€Œé¸æ“‡ã€å¾è² æ“”è®Šæˆæ¨‚è¶£ã€‚é€šéå¤šç›®æ¨™æœ€ä½³åŒ–å’Œ AI è¼”åŠ©ï¼Œæ¶ˆè²»è€…ä¸å†éœ€è¦åœ¨ã€Œä¾¿å®œã€å’Œã€Œå¥½ã€ä¹‹é–“åšç—›è‹¦çš„æ¬Šè¡¡ï¼Œè€Œæ˜¯ç²å¾—ä¸€çµ„ Pareto æœ€å„ªè§£ï¼Œæ¯å€‹éƒ½æ˜¯æŸå€‹è§’åº¦çš„æœ€ä½³é¸æ“‡ã€‚

é€™ä¸æ˜¯è¦å–ä»£äººçš„æ±ºç­–ï¼Œè€Œæ˜¯è®“æ±ºç­–æ›´æœ‰ä¾æ“šã€æ›´æœ‰ä¿¡å¿ƒã€‚

---

*"å¥½ç¨‹å¼è¨­è¨ˆå¸«æ“”å¿ƒè³‡æ–™çµæ§‹ï¼Œå·®ç¨‹å¼è¨­è¨ˆå¸«æ“”å¿ƒç¨‹å¼ç¢¼ã€‚" - Linus Torvalds*

*æˆ‘å€‘æ“”å¿ƒçš„æ˜¯ï¼šå¦‚ä½•ç”¨æ­£ç¢ºçš„è³‡æ–™çµæ§‹ï¼Œè®“æ™ºæ…§å•†åŸçš„ç¨‹å¼ç¢¼è‡ªç„¶ç°¡æ½”ã€‚*
